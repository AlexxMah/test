(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6503],{6503:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return v}});var i=r(5893),l=r(7294),a=r(6038),t=r(4786),o=r(6673),d=r(517),n=r(8294),c=r.n(n),u=r(9311),m=r.n(u),_=r(226),h=r.n(_);function v(e){let{section:s}=e,r=(0,l.useRef)(null),n=(0,l.useRef)([]),u=(0,l.useRef)([]),_=(0,l.useRef)(5),v=(0,l.useRef)(!1),f=(0,l.useRef)(null),[g,p]=(0,l.useState)([]),[x,T]=(0,l.useState)(-1),[j,A]=(0,l.useState)(0),P=()=>{let e=Array.from(r.current.querySelectorAll(".js-slide")),s=Array.from(r.current.querySelectorAll(".js-titles")),i=Array.from(r.current.querySelectorAll(".js-texts"));s.forEach(e=>{a.ZP.set(e,{alpha:0})}),i.forEach(e=>{a.ZP.set(e,{alpha:0})}),p(e.map((e,r)=>({slide:e,image:e.querySelector(".js-image"),title:s[r],text:i[r],tl:a.ZP.timeline({paused:!0,defaults:{duration:1,ease:"expo"}})})))},Z=e=>{v.current||e===j||(f.current&&f.current.kill(),u.current[j]&&a.ZP.to(n.current[j],{autoAlpha:0,duration:.5,ease:"power1.out"}),T(j),A(e))},w=()=>{T(j),A(a.ZP.utils.wrap(0,g.length,j+1))},y=()=>{if(!g.length||v.current)return;v.current=!0;let e=x>=0?g[x]:null,s=g[j];e&&e.tl.clear().to([e.title,e.text],{y:"-25%",opacity:0,duration:.5,stagger:.1,ease:"quartOut"}).to(e.slide,{yPercent:-100,duration:1.5,ease:"io4"},0).to(e.image,{scale:1.5,duration:1.5,ease:"io4"},0).set([e.slide],{autoAlpha:0}).restart(),s&&s.tl.clear().set([s.slide],{autoAlpha:1}).fromTo(s.slide,{yPercent:100},{yPercent:0,duration:1.5,ease:"io4"},0).fromTo(s.image,{scale:1.5},{scale:1,duration:1.5,ease:"io4"},0).fromTo([s.title,s.text],{y:"75%",alpha:0},{y:0,alpha:1,duration:.9,ease:"quartOut",stagger:.1},.85).restart(),u.current.forEach(e=>{a.ZP.set(e,{strokeDashoffset:220})}),a.ZP.delayedCall(1.5,()=>{v.current=!1,N()})},N=()=>{f.current&&(f.current.clear(),f.current.to(n.current[j],{autoAlpha:1,duration:.5,ease:"power1.out"},0).to(u.current[j],{strokeDashoffset:0,duration:_.current,ease:"linear"}).to(u.current[j],{strokeDashoffset:-220,duration:1.5,ease:"expo.inOut"}).to(n.current[j],{autoAlpha:0,duration:.5,ease:"power1.out"},"<=1").add(()=>{w(),a.ZP.set(u.current[j],{strokeDashoffset:220})},"<=0.2").restart())};return(0,l.useEffect)(()=>{P(),f.current=a.ZP.timeline({paused:!0})},[]),(0,l.useEffect)(()=>{y()},[j,x,g]),(0,i.jsxs)("section",{className:(0,d.Z)(h().section,c().padding,"white"==s.color?(0,d.Z)(h().white,c().white):void 0),ref:r,children:[(0,i.jsxs)("div",{className:h().slidesImages,children:[(0,i.jsx)("div",{className:h().slidesImagesAspectRatio}),(0,i.jsx)("div",{className:h().overlay}),s.slides.map((e,s)=>(0,i.jsx)("div",{className:(0,d.Z)(h().slidesImage,s===j?h().slidesImageActive:void 0,"js-slide"),children:(0,i.jsx)("div",{className:(0,d.Z)(h().image,"js-image"),children:(0,i.jsx)(t.Z,{className:h().imageFull,field:e.slideImage,fieldMobile:e.slideImageMobile,sizes:"97vw"})})},s))]}),(0,i.jsxs)("div",{className:h().slidesContent,children:[(0,i.jsx)("div",{className:h().authorOpinion,children:s.slides.map((e,s)=>(0,i.jsxs)("div",{className:(0,d.Z)(h().authorOpinionWrap,s!==j?h().authorOpinionActive:void 0),children:[(0,i.jsx)("h3",{className:(0,d.Z)(m().S,h().authorOpinionTitle,"js-titles"),children:(0,i.jsx)(o.Z,{value:e.heading})}),(0,i.jsx)("div",{className:(0,d.Z)(m().P,h().authorOpinionName,"js-texts"),children:(0,i.jsx)(o.Z,{value:e.body})})]},s))}),(0,i.jsx)("div",{className:h().slidesBullets,children:s.slides.map((e,s)=>(0,i.jsx)("div",{className:(0,d.Z)(h().slidesBullet,s===j?h().activeBullet:void 0),onClick:()=>Z(s),children:(0,i.jsxs)("div",{className:h().slidesAvatar,children:[(0,i.jsx)(t.Z,{className:h().slidesAvatarImage,field:e.slideIndicator,sizes:"4vw"}),(0,i.jsxs)("div",{ref:e=>n.current[s]=e,className:h().slidesAvatarTimerProgress,children:[(0,i.jsx)("div",{className:h().slidesAvatarTimerProgressPlaceholder,children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 72 72",children:(0,i.jsx)("path",{fill:"#fff",d:"M72 36c0 19.882-16.118 36-36 36S0 55.882 0 36 16.118 0 36 0s36 16.118 36 36zM2.056 36c0 18.747 15.197 33.944 33.944 33.944 18.747 0 33.944-15.197 33.944-33.944C69.944 17.253 54.747 2.056 36 2.056 17.253 2.056 2.056 17.253 2.056 36z",opacity:"0.3"})})}),(0,i.jsx)("div",{className:h().slidesAvatarTimerProgressFill,children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 72 72",children:(0,i.jsx)("circle",{ref:e=>u.current[s]=e,cx:"36",cy:"36",r:"35",fill:"none",stroke:"#FFA200",strokeWidth:"2",strokeDasharray:"220",strokeDashoffset:"220",transform:"rotate(-90 36 36)"})})})]})]})},s))})]})]})}},226:function(e){e.exports={section:"sliderTimer_section__sU2xI",overlay:"sliderTimer_overlay__huYEE",slidesImages:"sliderTimer_slidesImages__5RSmW",slidesImagesAspectRatio:"sliderTimer_slidesImagesAspectRatio__C8sJW",slidesImage:"sliderTimer_slidesImage__zDzbS",image:"sliderTimer_image__Rbhqu",slidesImageActive:"sliderTimer_slidesImageActive__TjYLI",slidesContent:"sliderTimer_slidesContent__9vTZE",authorOpinion:"sliderTimer_authorOpinion__efkZ5",authorOpinionWrap:"sliderTimer_authorOpinionWrap__EE_Bt",authorOpinionTitle:"sliderTimer_authorOpinionTitle__orXIZ",slidesBullets:"sliderTimer_slidesBullets__E_4cX",slidesBullet:"sliderTimer_slidesBullet__Knwwt",slidesAvatar:"sliderTimer_slidesAvatar__ol34A",slidesAvatarImage:"sliderTimer_slidesAvatarImage__r_PXh",slidesAvatarTimerProgress:"sliderTimer_slidesAvatarTimerProgress__vlJd8",slidesAvatarTimerProgressPlaceholder:"sliderTimer_slidesAvatarTimerProgressPlaceholder__0xV6M",slidesAvatarTimerProgressFill:"sliderTimer_slidesAvatarTimerProgressFill__YvnXG",activeBullet:"sliderTimer_activeBullet__0VK_t",imageFull:"sliderTimer_imageFull__37j1p"}}}]);