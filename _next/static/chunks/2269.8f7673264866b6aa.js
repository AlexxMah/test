(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2269],{2269:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return w}});var n=a(5893),s=a(8291),r=a(4786),i=a(7294),t=a(7712),u=a(252),o=a(918),c=a(3340),d=a(6038),m=a(6820),f=a(517),v=a(9311),h=a.n(v),g=a(1641),x=a.n(g),p=a(6033),j=a.n(p);let b=(0,i.forwardRef)(function(e,l){let a=(0,i.useRef)("");function s(){e.required&&""==a.current?e.setIsValid(!1):e.setIsValid(!0)}(0,i.useEffect)(()=>{a.current=e.value},[e.value]),(0,i.useImperativeHandle)(e.validationRef,()=>({handleElementValidation:s}),[]),(0,i.useEffect)(()=>{if(l.current)return l.current.addEventListener("blur",s),()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.removeEventListener("blur",s)}},[l]);let r=(0,i.useRef)();return(0,i.useEffect)(()=>{if(!(0,m.Z)()&&!e.noStyle){var a,n;function s(){d.p8.fromTo(r.current,{x:"-101%"},{x:"0%",duration:1,ease:"expo.out"})}function i(){d.p8.fromTo(r.current,{x:"0%"},{x:"101%",duration:1.1,ease:"expo.out"})}return null==l||null===(a=l.current)||void 0===a||a.addEventListener("mouseenter",s),null==l||null===(n=l.current)||void 0===n||n.addEventListener("mouseleave",i),()=>{var e,a;null==l||null===(e=l.current)||void 0===e||e.removeEventListener("mouseenter",s),null==l||null===(a=l.current)||void 0===a||a.removeEventListener("mouseleave",i)}}},[l,r]),(0,n.jsxs)("div",{className:(0,f.Z)(e.wrapClass,x().field,j().textAreaInput,h().SP,!1==e.isValid?x().invalid:""),style:e.gridColumn?{gridColumn:e.gridColumn}:null,children:[(0,n.jsx)("textarea",{className:(0,f.Z)(e.className,x().input),id:e.id,name:e.id,rows:"5",value:e.value,placeholder:e.label+(e.required?"*":""),ref:l,onChange:l=>{e.setValue(l.target.value)},"aria-invalid":!e.isValid,"aria-errormessage":e.isValid?void 0:"alert-"+e.id}),e.label?(0,n.jsx)("label",{className:(0,f.Z)(x().label,h().monoS),htmlFor:e.id,children:e.label+(e.required?"*":"")}):null,e.inlineLabel?(0,n.jsx)("div",{className:x().inlineLabel,children:e.inlineLabel}):null,(0,n.jsx)("div",{className:x().lineWrap,children:(0,n.jsx)("div",{className:x().line,ref:r})}),e.note?(0,n.jsx)("div",{className:(0,f.Z)(x().note,h().SP),children:e.note}):null,!1==e.isValid?(0,n.jsx)("small",{className:(0,f.Z)(x().validate,h().SP),id:"alert-"+e.id,role:"alert",children:e.requiredError?e.requiredError:"This is a required field"}):null]})});var N=a(1864),V=a(6004),S=()=>{let e=(0,i.useRef)(null),l=(0,i.useRef)(null),a=(0,i.useRef)(null),s=(0,i.useRef)(null),[r,d]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),[g,p]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1),R=(0,i.useRef)(null),Z=(0,i.useRef)(null),[_,E]=(0,i.useState)(""),[y,w]=(0,i.useState)(),L=(0,i.useRef)(null),k=(0,i.useRef)(null),[T,q]=(0,i.useState)(""),[I,C]=(0,i.useState)(),F=(0,i.useRef)(null),P=(0,i.useRef)(null),[A,O]=(0,i.useState)(""),[M,W]=(0,i.useState)(),D=(0,i.useRef)(null),G=(0,i.useRef)(null),[z,H]=(0,i.useState)(""),[J,Y]=(0,i.useState)(),B=(0,i.useRef)(null),K=(0,i.useRef)(null),[Q,U]=(0,i.useState)([]),[X,$]=(0,i.useState)(),ee=(0,i.useRef)(null),el=(0,i.useRef)(null),[ea,en]=(0,i.useState)(""),[es,er]=(0,i.useState)(),ei=(0,i.useRef)(null),[et,eu]=(0,i.useState)("");async function eo(){let e={replyToEmail:A,replyToName:"".concat(_," ").concat(T),subject:"Website Contact Form: ".concat(Q.map(e=>e.label).join(", ")),text:ea,html:"\n				<p><strong>From:</strong> ".concat(_," ").concat(T,"</p>\n				<p><strong>Email:</strong> ").concat(A,"</p>\n				<p><strong>Phone:</strong> ").concat(z,"</p>\n				</br>\n				<p><strong>Topics:</strong> ").concat(Q.map(e=>e.label).join(", "),"</p>\n				<p><strong>Message:</strong> ").concat(ea,"</p>")};try{let l=await fetch("/api/sendgrid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok)d(!1),S(!1),v(!0);else{let e=await l.text();console.error(e),d(!1),S(e)}}catch(e){console.error(e),d(!1),S("There has been a connection issue.\nPlease try again later.")}}let ec=async e=>{e.preventDefault(),Z.current.handleElementValidation(),k.current.handleElementValidation(),P.current.handleElementValidation(),K.current.handleElementValidation(),el.current.handleElementValidation(),y&&I&&M&&J&&es&&X&&""==et?(d(!0),p(!1),eo()):(d(!1),p(!0))};return(0,n.jsxs)("form",{id:"contact-form",className:x().form,noValidate:!0,method:"POST",ref:e,children:[(0,n.jsxs)("div",{className:(0,f.Z)(x().formGrid,m?x().hide:""),ref:l,children:[(0,n.jsx)(t.Z,{id:"firstName",label:"First Name",ref:R,value:_,setValue:E,required:!0,isValid:y,setIsValid:w,validationRef:Z}),(0,n.jsx)(t.Z,{id:"lastName",label:"Last Name",ref:L,value:T,setValue:q,required:!0,isValid:I,setIsValid:C,validationRef:k}),(0,n.jsx)(u.Z,{id:"email",label:"Email Address",ref:F,value:A,setValue:O,required:!0,isValid:M,setIsValid:W,validationRef:P}),(0,n.jsx)(o.Z,{id:"phone",label:"Phone Number",ref:D,value:z,setValue:H,isValid:J,setIsValid:Y,validationRef:G}),(0,n.jsx)(c.Z,{id:"topics",label:"Topics",ref:B,value:Q,setValue:U,required:!0,options:[{value:"general",label:"General Inquiry"},{value:"course",label:"Course Inquiry"},{value:"team",label:"Team Inquiry"}],createable:!0,isValid:X,setIsValid:$,validationRef:K}),(0,n.jsx)(b,{id:"message",label:"Message",ref:ee,value:ea,setValue:en,required:!0,validationRef:el,isValid:es,setIsValid:er,requiredError:"Please enter your message",gridColumn:"1/span 2"}),(0,n.jsx)(N.Z,{ref:ei,value:et,setValue:eu}),(0,n.jsxs)("div",{className:(0,f.Z)(x().field,x().submission),children:[(0,n.jsxs)("div",{className:(0,f.Z)(x().fail,h().SP,g?x().show:""),ref:a,children:["There were some errors in your submission.",(0,n.jsx)("br",{}),"Please try filling in the form again."]}),(0,n.jsx)("div",{className:(0,f.Z)(x().fail,h().SP,j?x().show:""),ref:a,children:j}),(0,n.jsx)("div",{className:x().submitWrap,children:(0,n.jsx)(V.Z,{onClick:ec,type:"orange",arrow:!r,children:r?"Sending...":"Submit"})})]})]}),(0,n.jsxs)("div",{className:(0,f.Z)(x().success,m?x().show:""),ref:s,children:[(0,n.jsxs)("div",{className:h().P,children:["Thank you!",(0,n.jsx)("br",{}),"Your submission has been received."]}),(0,n.jsx)(V.Z,{onClick:e=>{e.preventDefault(),E(""),q(""),O(""),H(""),U([]),en(""),v(!1),p(!1),S(!1)},type:"orange",arrow:!0,children:"Reset form"})]})]})},R=a(1526),Z=a(8294),_=a.n(Z),E=a(9775),y=a.n(E);function w(e){let{section:l}=e;return(0,n.jsxs)("section",{id:(0,R.Z)(l.tag),className:(0,f.Z)(y().section,_().padding,_().scrollTo,l.centerAlignment?y().center:void 0),children:[(0,n.jsx)("h2",{className:(0,f.Z)(y().tag,h().mono,_().o),children:l.tag}),(0,n.jsxs)("div",{className:(0,f.Z)(y().inner,l.image?y().margin:void 0),children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("h3",{className:(0,f.Z)(y().heading,l.centerAlignment?h().M:h().S),children:l.heading}),l.socialLinks?(0,n.jsx)("ul",{className:y().socialLinks,children:l.socialLinks.map((e,l)=>(0,n.jsx)("li",{children:(0,n.jsx)(s.Z,{className:(0,f.Z)(h().monoS,h().link),href:e.url,children:e.text})},l))}):null]}),(0,n.jsx)(S,{})]}),l.image?(0,n.jsx)(r.Z,{className:y().image,field:l.image,sizes:"(max-width: 480px) 100vw, 23vw"}):null]})}},1526:function(e,l,a){"use strict";function n(e){return null==e?void 0:e.toLowerCase().replace(/\/\&|\,|\.|\:|\;/g,"").replace(/\&/g,"and").replace(/\s+/g,"-").slice(0,200)}a.d(l,{Z:function(){return n}})},6033:function(){},9775:function(e){e.exports={section:"contactForm_section__2tOhh",center:"contactForm_center__vbF8j",inner:"contactForm_inner__hmL29",tag:"contactForm_tag__kTFyl",margin:"contactForm_margin__gA790",socialLinks:"contactForm_socialLinks__c1I_7",image:"contactForm_image__8kIdE"}}}]);